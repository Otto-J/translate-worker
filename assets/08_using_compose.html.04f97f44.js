import{_ as c,o as l,c as i,a as n,d as a,w as p,b as s,e as d,r as e}from"./app.beb8ffd1.js";const u={},r=n("h1",{id:"\u4F7F\u7528-docker-compose",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4F7F\u7528-docker-compose","aria-hidden":"true"},"#"),s(" \u4F7F\u7528 Docker Compose")],-1),k={href:"https://docs.docker.com/compose/",target:"_blank",rel:"noopener noreferrer"},m=s("Docker Compose"),v=s(" \u662F\u4E00\u4E2A\u5DE5\u5177\uFF0C\u53EF\u4EE5\u5B9A\u4E49\u3001\u5171\u4EAB\u591A\u5BB9\u5668\uFF0C\u901A\u8FC7 yaml \u6765\u5B9A\u4E49\u3002\u6709\u70B9\u662F\u6587\u672C\u914D\u7F6E\u53EF\u4EE5\u7EB3\u5165\u7248\u672C\u7BA1\u7406\u3002"),h=d(`<h2 id="\u5B89\u88C5-docker-compose" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-docker-compose" aria-hidden="true">#</a> \u5B89\u88C5 Docker Compose</h2><p>\u9ED8\u8BA4\u5B89\u88C5\u4E86\uFF0C\u67E5\u770B\u7248\u672C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> \u914D\u7F6E\u6587\u4EF6</h2><p>\u521B\u5EFA <code>docker-compose.yml</code> \u6587\u4EF6\uFF0C\u6CA1\u6709\u6392\u5E8F\u8981\u6C42</p><p>\u5E76\u4E00\u6B65\u4E00\u6B65\u8FC1\u79FB\u3002</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3.7&#39;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> node<span class="token punctuation">:</span>12<span class="token punctuation">-</span>alpine
    <span class="token key atrule">command</span><span class="token punctuation">:</span> sh <span class="token punctuation">-</span>c &quot;yarn install <span class="token important">&amp;&amp;</span> yarn run dev&quot;
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 3000<span class="token punctuation">:</span><span class="token number">3000</span>
    <span class="token key atrule">working_dir</span><span class="token punctuation">:</span> /app
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./<span class="token punctuation">:</span>/app
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_HOST</span><span class="token punctuation">:</span> mysql
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> root
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> secret
      <span class="token key atrule">MYSQL_DB</span><span class="token punctuation">:</span> todos

  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">5.7</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> todo<span class="token punctuation">-</span>mysql<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/mysql
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> secret
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> todos

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">todo-mysql-data</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u8FD0\u884C" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C" aria-hidden="true">#</a> \u8FD0\u884C</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> up -d
<span class="token function">docker-compose</span> logs -f
<span class="token function">docker-compose</span> down
<span class="token function">docker-compose</span> down --volumes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F1A\u81EA\u52A8\u521B\u5EFA <code>network</code> <code>volume</code></p><blockquote><p>\u4E0D\u80FD\u63A7\u5236\u542F\u52A8\u5BB9\u5668\u4E4B\u540E\u518D\u542F\u52A8\u5BB9\u5668\uFF0C\u6240\u4EE5\u9700\u8981\u7B49\u5F85\u7AEF\u53E3\u6B63\u5E38</p></blockquote><h2 id="\u4EEA\u8868\u770B\u67E5\u770B" tabindex="-1"><a class="header-anchor" href="#\u4EEA\u8868\u770B\u67E5\u770B" aria-hidden="true">#</a> \u4EEA\u8868\u770B\u67E5\u770B</h2><p>\u7565</p><h2 id="\u56DE\u987E" tabindex="-1"><a class="header-anchor" href="#\u56DE\u987E" aria-hidden="true">#</a> \u56DE\u987E</h2>`,14),b=s("\u8FDB\u884C\u9605\u8BFB "),_=s("\u955C\u50CF\u6784\u5EFA\u6700\u4F73\u5B9E\u8DF5");function y(f,g){const o=e("ExternalLinkIcon"),t=e("RouterLink");return l(),i("div",null,[r,n("p",null,[n("a",k,[m,a(o)]),v]),h,n("p",null,[b,a(t,{to:"/docker/get-started/09_image_best.html"},{default:p(()=>[_]),_:1})])])}var S=c(u,[["render",y],["__file","08_using_compose.html.vue"]]);export{S as default};
